---
# Handlers for vcenter_connection role
# Notified by validate_vars.yml, verify_permissions.yml, and logging.yml

- name: "Log vCenter variable validation success"
  debug:
    msg: "vCenter connection variables validated successfully"

- name: "Log vCenter host format validation"
  debug:
    msg: "vCenter host format validated"

- name: "Log vCenter credentials validation"
  debug:
    msg: "vCenter credentials format validated"

- name: "Refresh vCenter configuration cache"
  debug:
    msg: "vCenter configuration cache refreshed"

- name: "vcenter_api_success"
  debug:
    msg: "vCenter API version check passed"

- name: "vcenter_api_failure"
  debug:
    msg: "vCenter API version check failed"

- name: "vcenter_datacenter_success"
  debug:
    msg: "vCenter datacenter access verified"

- name: "vcenter_datacenter_failure"
  debug:
    msg: "vCenter datacenter access failed"

- name: "vcenter_cluster_success"
  debug:
    msg: "vCenter cluster access verified"

- name: "vcenter_cluster_failure"
  debug:
    msg: "vCenter cluster access failed"

- name: "vcenter_datastore_success"
  debug:
    msg: "vCenter datastore access verified"

- name: "vcenter_datastore_failure"
  debug:
    msg: "vCenter datastore access failed"

- name: "Restart logging service"
  debug:
    msg: "Logging service restarted"

- name: "Rotate connection logs"
  debug:
    msg: "Connection logs rotated"

- name: "Log connection failure"
  debug:
    msg: "vCenter connection failed: {{ vcenter_host }}"
  listen: "connection_failed"

- name: "Cleanup connection"
  debug:
    msg: "Cleaning up vCenter connection"
  listen: "cleanup_connection"